<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="https://xzzz2020.github.io/favicon.ico" type="image/x-icon" /><meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="apple-mobile-web-app-capable"content="yes"/><meta name="apple-mobile-web-app-status-bar-style"content="black"/><meta name="format-detection"content="telephone=no"/><meta name="renderer"content="webkit"><meta name="description"content="æ¸©æ•…è€ŒçŸ¥æ–°"><meta charset="UTF-8"><title>HashMapé¢è¯•é¢˜æ€»ç»“ | xzzz2020</title>
<link href="https://xzzz2020.github.io/styles/main.css" type="text/css" rel="stylesheet" /><link href="https://at.alicdn.com/t/font_1621793_zatzzgvf30g.css" type="text/css" rel="stylesheet" /><link rel="stylesheet" href="https://xzzz2020.github.io/media/css/katex.css"><script async src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.min.js"></script><script src="https://xzzz2020.github.io/media/js/magnify.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<script type="text/javascript">function btn_toggle(){document.getElementById("hn").classList.contains("no-js")?document.getElementById("hn").classList.remove("no-js"):document.getElementById("hn").classList.add("no-js")}</script>

<link rel="canonical" href="https://xzzz2020.github.io/post/hashmap/" />
</head>
<body>
<div class="progress"></div><style>.progress{background:linear-gradient(to right,#87ceeb var(--scroll),transparent 0);background-repeat:no-repeat;position:fixed;width:100%;height:4px;z-index:1}</style><div class="darkmode-background"></div><div class="darkmode-layer"></div>
<noscript><p class="warn" >æœ¬é¡µé¢éœ€è¦æµè§ˆå™¨æ”¯æŒï¼ˆå¯ç”¨ï¼‰JavaScript</p></noscript><div class="header"><div class="logo_title"><div class="title animated fadeInDown"><a href="https://xzzz2020.github.io"><img alt="logo" style="display:inline-block;" src="https://xzzz2020.github.io/images/avatar.png"/></a><h1 title="xzzz2020" class="weaklink"><a  href="/">xzzz2020</a></h1>

<div class="navbar weaklink">
<div class="normal_nav">
<div class="bitcron_nav_container"><div class="bitcron_nav"><div class="bitcron_nav"><div style="display:flex;justify-content:center;"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/Friendship_chain" class="selected active current nav__item" >å‹é“¾</a></li></ul></nav>
<div style="float:right;margin-top:1em"><form id="gridea-search-form" data-update="1578893743252" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="Search..."></form></div><div style="margin-left:0.5em;margin-top:1.2em"><input id="switch_default" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
<div class="clear clear_nav_inline_end"></div></div></div><div class="clear clear_nav_end"></div></div></div><div class="hamberger" href="javascript:void(0)" onclick="btn_toggle();"><i class="iconfont icon-category"></i></div></div></div></div>
<div id="hn" class="no-js hidden_nav animated fadeInDown"><div class="bitcron_nav_container"><div class="bitcron_nav"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/Friendship_chain" class="selected active current nav__item" >å‹é“¾</a></li></ul><div class="clear clear_nav_inline_end"></div></nav></div><div class="clear clear_nav_end"></div></div>
<div style="display:flex;justify-content:center;inline-block;text-align:center;margin-top:7%"><div><form id="gridea-search-form" data-update="1605252159820" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q"  placeholder="Search..." /></form></div><div style="margin-left:0.5em"><input id="switch_default_h" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
</div></div>
<script>function enableDarkmode(){document.body.classList.add("darkmode"),document.getElementById("switch_default").checked=1,document.getElementById("switch_default_h").checked=1}function removeDarkmode(){document.body.classList.remove("darkmode"),document.getElementById("switch_default").checked=0,document.getElementById("switch_default_h").checked=0}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}cookie=getCookie("darkmode"),"enable"==cookie&&enableDarkmode(),window.matchMedia("(prefers-color-scheme: dark)").matches&&"disable"!==cookie&&(enableDarkmode(),document.cookie="darkmode=enable; path=/");var mobileBtn=function(){1==document.getElementById("switch_default").checked?(enableDarkmode(),document.cookie="darkmode=enable; path=/"):(removeDarkmode(),document.cookie="darkmode=disable; path=/")};</script>

<div class="main"><div class="main-inner"><div class="content">
<article class="post">
<h2 class="post_title sm_margin"><a>HashMapé¢è¯•é¢˜æ€»ç»“</a></h2>
<script>function lan(){if(document.getElementById("lan").innerText=="ç¹"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_tw.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="ç®€"}else{if(document.getElementById("lan").innerText=="ç°¡"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_cn.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="ç¹"}}};</script>
<section class="post_details"><i class="iconfont icon-calendar"></i><span style="margin-right:15px"> 2020-07-03</span><i class="iconfont icon-browse"></i><span style="margin-right:15px" id="busuanzi_container_page_pv"> <span id="busuanzi_value_page_pv"></span> Views</span><i class="iconfont icon-category"></i><span class="weaklink" style="margin-right:15px">	<a href="https://xzzz2020.github.io/tag/Java_collections/" class="tag">Javaé›†åˆ</a> | 	<a href="https://xzzz2020.github.io/tag/Interview_summary/" class="tag">é¢è¯•æ€»ç»“</a></span><i class="iconfont icon-caret-down"></i><span style="margin-right:15px">4209å­—</span><i class="iconfont icon-naozhong"></i><span style="margin-right:15px">17 min read</span><a id="lan" href="javascript:void(0);"onclick="lan();"title="è°ƒæ•´ç®€ç¹ä½“" style="margin-right:15px;">ç¹</a>
</section>

<img class="featureImg" alt="featureimg" src="https://img-1302474103.cos.ap-nanjing.myqcloud.com/img/sparkler-holding-hands-firework-preview.jpg" referrerpolicy="no-referrer">

<div style="display:flex">
<div class="md_block" id="md_block">
<div class="round-shape-one"></div>
<p><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#hashmap%E7%AE%80%E4%BB%8B">HashMapç®€ä»‹</a></li>
<li><a href="#%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88">é—®é¢˜é›†åˆ</a>
<ul>
<li><a href="#%E9%97%AE%E7%82%B9%E4%B8%80%E4%BD%A0%E4%BA%86%E8%A7%A3hashmap%E7%9A%84%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%90%97">é—®ç‚¹ä¸€ï¼šä½ äº†è§£HashMapçš„åº•å±‚æ•°æ®ç»“æ„å—ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%BA%8C%E4%B8%BA%E4%BB%80%E4%B9%88jdk-7%E4%BD%BF%E7%94%A8%E6%95%B0%E7%BB%84%E9%93%BE%E8%A1%A8jdk8%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8Bhashmap%E5%8F%88%E6%98%AF%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E7%9A%84">é—®ç‚¹äºŒï¼šä¸ºä»€ä¹ˆJDK 7ä½¿ç”¨æ•°ç»„+é“¾è¡¨ï¼ŸJDK8ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¢é»‘æ ‘ï¼Ÿå“ˆå¸Œå†²çªæ˜¯æ€ä¹ˆå›äº‹ï¼ŸHashMapåˆæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%B8%89hashmap%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84jdk7%E4%B8%8Ejdk8%E6%9C%89%E4%BB%80%E4%B9%88%E4%B8%8D%E5%90%8C%E5%90%97">é—®ç‚¹ä¸‰ï¼šHashMapçš„æ‰©å®¹æœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„ï¼ŸJDK7ä¸JDK8æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E5%9B%9Bhashmap%E4%B8%AD%E7%9A%84%E9%94%AE%E5%80%BC%E5%8F%AF%E4%BB%A5%E4%B8%BAnull%E5%90%97%E8%83%BD%E7%AE%80%E5%8D%95%E8%AF%B4%E4%B8%80%E4%B8%8B%E5%8E%9F%E7%90%86%E5%90%97">é—®ç‚¹å››ï¼šHashMapä¸­çš„é”®å€¼å¯ä»¥ä¸ºNullå—ï¼Ÿèƒ½ç®€å•è¯´ä¸€ä¸‹åŸç†å—ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%BA%94hashmap%E4%B8%AD%E8%83%BDput%E4%B8%A4%E4%B8%AA%E7%9B%B8%E5%90%8C%E7%9A%84key%E5%90%97%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E6%88%96%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD">é—®ç‚¹äº”ï¼šHashMapä¸­èƒ½putä¸¤ä¸ªç›¸åŒçš„Keyå—ï¼Ÿä¸ºä»€ä¹ˆèƒ½æˆ–ä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E5%85%AD%E8%81%8A%E4%B8%80%E8%81%8Ajdk-7%E7%9A%84hashmap%E4%B8%AD%E7%9A%84%E6%AD%BB%E9%94%81%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B">é—®ç‚¹å…­ï¼šèŠä¸€èŠJDK 7çš„HashMapä¸­çš„â€œæ­»é”â€æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%B8%83hashmap%E6%98%AF%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%E5%90%97%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AE%89%E5%85%A8%E6%88%96%E8%80%85%E4%B8%8D%E5%AE%89%E5%85%A8">é—®ç‚¹ä¸ƒï¼šHashMapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿä¸ºä»€ä¹ˆå®‰å…¨æˆ–è€…ä¸å®‰å…¨ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E5%85%AB%E4%BB%80%E4%B9%88-hashmap-%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%9B%A0%E5%AD%90%E6%98%AF075%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E8%B6%85%E8%BF%878%E6%89%8D%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91">é—®ç‚¹å…«ï¼šä»€ä¹ˆ HashMap çš„åŠ è½½å› å­æ˜¯0.75ï¼Ÿä¸ºä»€ä¹ˆæ˜¯è¶…è¿‡â€œ8â€æ‰ç”¨çº¢é»‘æ ‘ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%B9%9Dhashmap-hashtable-concurrenthashmap%E7%9A%84%E5%8C%BA%E5%88%AB">é—®ç‚¹ä¹ï¼šHashMapã€HashTableã€ConcurrentHashMapçš„åŒºåˆ«</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E5%8D%81%E8%B0%88%E8%B0%88%E4%BD%A0%E7%90%86%E8%A7%A3%E7%9A%84-hashmap%E8%AE%B2%E8%AE%B2%E5%85%B6%E4%B8%AD%E7%9A%84-get%E5%92%8Cput-%E8%BF%87%E7%A8%8B">é—®ç‚¹åï¼šè°ˆè°ˆä½ ç†è§£çš„ HashMapï¼Œè®²è®²å…¶ä¸­çš„ getå’Œput è¿‡ç¨‹</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</p>
<blockquote>
<p>ç”±äºHashMapåœ¨é¢è¯•ä¸­æ˜¯ä¸€ä¸ªé‡ç‚¹ï¼Œå†…å®¹ååˆ†å¤šï¼Œéœ€è¦å•ç‹¬å†™ä¸€ç¯‡æ–‡ç« æ€»ç»“</p>
<p>HashMapåœ¨Jdk1.7ä¸1.8ä¹‹ä¸­æœ‰å¾ˆå¤§åŒºåˆ«ï¼ï¼</p>
</blockquote>
<h2 id="hashmapç®€ä»‹">HashMapç®€ä»‹</h2>
<p><code>HashMap</code> æ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼Œå®ƒåº•å±‚åœ¨<code>JDK 1.7</code>æ˜¯<strong>æ•°ç»„+é“¾è¡¨</strong>å®ç°çš„ï¼Œè€Œ<code>JDK 1.8</code>æ˜¯ä½¿ç”¨<strong>æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘</strong>å®ç°ï¼Œé€šè¿‡å¯¹ <code>key</code> è¿›è¡Œå“ˆå¸Œè®¡ç®—ç­‰æ“ä½œåå¾—åˆ°æ•°ç»„ä¸‹æ ‡ï¼ŒæŠŠ <code>value</code> ç­‰ä¿¡æ¯å­˜æ”¾åœ¨<strong>é“¾è¡¨</strong>æˆ–<strong>çº¢é»‘æ ‘</strong>å­˜åœ¨æ­¤ä½ç½®ã€‚</p>
<p>å¦‚æœä¸¤ä¸ªä¸åŒçš„ <code>key</code> è¿ç®—åè·å–çš„æ•°ç»„ä¸‹æ ‡ä¸€è‡´ï¼Œå°±å‡ºç°äº†<strong>å“ˆå¸Œå†²çª</strong>ã€‚æ•°ç»„é»˜è®¤é•¿åº¦æ˜¯<strong>16</strong>ï¼Œå¦‚æœå®é™…æ•°ç»„é•¿åº¦è¶…è¿‡ä¸€å®šçš„å€¼ï¼Œå°±ä¼šè¿›è¡Œ<strong>æ‰©å®¹</strong>ã€‚</p>
<h2 id="é—®é¢˜é›†åˆ">é—®é¢˜é›†åˆ</h2>
<h3 id="é—®ç‚¹ä¸€ä½ äº†è§£hashmapçš„åº•å±‚æ•°æ®ç»“æ„å—">é—®ç‚¹ä¸€ï¼šä½ äº†è§£HashMapçš„åº•å±‚æ•°æ®ç»“æ„å—ï¼Ÿ</h3>
<blockquote>
<p>åœ¨JDK1.7ä½¿ç”¨çš„æ˜¯<strong>æ•°ç»„+é“¾è¡¨</strong>çš„å®ç°ï¼Œåœ¨JDK1.8ä¸­ä½¿ç”¨çš„æ˜¯<strong>æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘</strong></p>
</blockquote>
<img src="https://img-1302474103.cos.ap-nanjing.myqcloud.com/img/640" alt="img" style="zoom: 67%;" />
<img src="https://mmbiz.qpic.cn/mmbiz_png/IJUXwBNpKlhF6p8tTEWMiaxZ0BKpVc0w0GALrnTniccx148yicUk62MKibzZIj54fDx9F6icXCXHpRQLevrGFTbPQZw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img" style="zoom:67%;" />
<h3 id="é—®ç‚¹äºŒä¸ºä»€ä¹ˆjdk-7ä½¿ç”¨æ•°ç»„é“¾è¡¨jdk8ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¢é»‘æ ‘å“ˆå¸Œå†²çªæ˜¯æ€ä¹ˆå›äº‹hashmapåˆæ˜¯æ€ä¹ˆè§£å†³çš„">é—®ç‚¹äºŒï¼šä¸ºä»€ä¹ˆJDK 7ä½¿ç”¨æ•°ç»„+é“¾è¡¨ï¼ŸJDK8ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¢é»‘æ ‘ï¼Ÿå“ˆå¸Œå†²çªæ˜¯æ€ä¹ˆå›äº‹ï¼ŸHashMapåˆæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ</h3>
<blockquote>
<ul>
<li>JDK 7ä½¿ç”¨æ•°ç»„+é“¾è¡¨ï¼Œæ˜¯å› ä¸ºHashMapæ˜¯æ ¹æ®Keyè®¡ç®—Hashå€¼ï¼Œä»è€Œå¾—åˆ°å“ˆå¸Œè¡¨çš„ç´¢å¼•ä¸‹æ ‡ï¼Œè€Œå“ˆå¸Œè¡¨æœ¬è´¨æ˜¯æ•°ç»„å®ç°ã€‚å½“å‡ºç°Hashå†²çªæ—¶ï¼Œåˆ™ä¸€ä¸ªæ¡¶å¯èƒ½éœ€è¦å­˜æ”¾å¤šä¸ªæ•°æ®ã€‚HashMapå°†ä¼šæ ¹æ®equals()æ–¹æ³•ï¼Œåˆ¤æ–­Hashå†²çªçš„Keyæ˜¯å¦æ˜¯åŒä¸€ä¸ªå€¼ï¼Œæ­¤æ—¶å¦‚æœä»ç„¶ä¸ç›¸åŒï¼Œå°±ä¼šåˆ©ç”¨å¤´æ’æ³•ï¼Œå°†å‡ºç°Hashå†²çªçš„Key+Valueå­˜æ”¾åœ¨é“¾è¡¨ä¸Šã€‚</li>
<li>ä½†æ˜¯å¦‚æœä¸€ä¸ªé“¾è¡¨æ¯”è¾ƒé•¿ï¼Œé‚£ä¹ˆæŸ¥è¯¢çš„æ•ˆç‡å°†ä¼šé™ä½ï¼Œæ‰€ä»¥JDK8ä¸­åˆä½¿ç”¨äº†çº¢é»‘æ ‘æ¥è§£å†³é“¾è¡¨è¿‡é•¿å¯¼è‡´æŸ¥è¯¢æ•ˆç‡å˜å·®çš„é—®é¢˜ï¼Œä¼šåœ¨ä¸€ä¸ªæ¡¶ä¸Šé“¾è¡¨é•¿åº¦ä¸º8æ—¶ï¼Œè¿›è¡Œæ ‘åŒ–ã€‚ä½†æ˜¯æ ‘åŒ–çš„æ—¶å€™ï¼Œä¼šåˆ¤æ–­å½“å‰çš„é•¿åº¦æ˜¯å¦å°äº64ï¼Œå¦‚æœå°äºï¼Œåˆ™ä¸è¿›è¡Œæ ‘åŒ–ï¼Œè€Œæ˜¯é€‰æ‹©è¿›è¡Œä¸€æ¬¡æ‰©å®¹ï¼Œå› ä¸ºæ‰©å®¹çš„æ—¶å€™ä¼šä½¿å“ˆå¸Œè¡¨é•¿åº¦å¢åŠ ï¼Œhashå€¼ä¼šé‡æ–°è®¡ç®—ï¼Œå°†é‡æ–°æ‰“ä¹±å½“å‰çš„å…ƒç´ æ’åˆ—ï¼Œåˆ†é…åˆ°æ–°çš„ç©ºé—´ä¸Šï¼Œè¿™æ ·ä¹Ÿé¿å…äº†é“¾è¡¨è¿‡é•¿ã€‚</li>
</ul>
</blockquote>
<p>å¯¹äºHashMapä¸­çš„æ¯ä¸ªkeyï¼Œæ ¹æ®ä¸€ä¸ªHashå‡½æ•°ï¼Œè®¡ç®—å‡ºä¸€ä¸ªHashå€¼ï¼Œå¯¹åº”å°±æ˜¯æ¡¶çš„ç¼–å·ï¼Œæ¡¶å®é™…ä¸Šæ˜¯ç”¨æ•°ç»„å®ç°çš„ã€‚</p>
<pre><code class="language-java">//key è¿›è¡Œå“ˆå¸Œè®¡ç®—
int hash = hash(key);
//è·å–æ•°ç»„ä¸‹æ ‡
int i = indexFor(hash, table.length);
</code></pre>
<p>é€šè¿‡è®¡ç®—åçš„ä¸‹æ ‡ï¼Œä»è€Œå¾—åˆ°æ•°ç»„çš„å¯¹åº”ä¸‹æ ‡çš„ä½ç½®ï¼Œæœ€åæŠŠkï¼Œvå€¼å­˜è¿›å»ï¼ŒåŒæ ·çš„å½“å†æ¬¡ç¬¬äºŒæ¬¡å­˜å€¼çš„æ—¶å€™ï¼ŒåŒæ ·æŠŠ<code>kï¼Œv</code>ä¼ è¿›æ¥ï¼Œå½“kå†æ¬¡è¿›è¡Œè®¡ç®—å‡ºæ•°ç»„ä¸‹æ ‡<code>index</code>ï¼Œæœ‰å¯èƒ½å’Œç¬¬ä¸€æ¬¡è®¡ç®—çš„<code>index</code>çš„å€¼ç›¸åŒã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸¤æ¬¡çš„éœ€è¦å­˜è¿›å»çš„<code>value</code>å€¼æ˜¯ä¸åŒçš„ï¼Œè¿™å°±å‡ºç°äº†åŒä¸€ä¸ªæ•°ç»„åé¢æœ‰ä¸€æ¡é“¾è¡¨ï¼Œä¼šæ¯”è¾ƒé“¾è¡¨ä¸Šçš„æ¯ä¸€ä¸ª<code>value</code>å€¼ä¸å½“å‰çš„<code>value</code>æ˜¯å¦ç›¸åŒï¼Œè‹¥æ˜¯ä¸ç›¸åŒï¼Œé€šè¿‡<strong>å¤´æ’æ³•</strong>ï¼Œå°†æ•°å€¼æ’å…¥é“¾è¡¨ä¸­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<img src="https://img-1302474103.cos.ap-nanjing.myqcloud.com/img/640" alt="img" style="zoom: 67%;" />
<p>æ¥ä¸‹æ¥é€šé€šè¿‡æºç è¿›è¡Œåˆ†æï¼Œåœ¨jdk 7æ’å…¥çš„put æ–¹æ³•æºç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">public V put(K key, V value) {
ã€€ã€€ã€€ã€€ã€€//æ•°ç»„ä¸ºç©ºå°±è¿›è¡Œåˆå§‹åŒ–
        if (table == EMPTY_TABLE) {
            inflateTable(threshold);
        }
        if (key == null)
            return putForNullKey(value);
ã€€ã€€ã€€ã€€ã€€//key è¿›è¡Œå“ˆå¸Œè®¡ç®—
        int hash = hash(key);
ã€€ã€€ã€€ã€€ã€€//è·å–æ•°ç»„ä¸‹æ ‡
        int i = indexFor(hash, table.length);
ã€€ã€€ã€€ã€€ã€€//å¦‚æœæ­¤ä¸‹æ ‡æœ‰å€¼ï¼Œéå†é“¾è¡¨ä¸Šçš„å…ƒç´ ï¼Œkey ä¸€è‡´çš„è¯å°±æ›¿æ¢ value çš„å€¼
        for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {
            Object k;
            if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) {
                V oldValue = e.value;
                e.value = value;
                e.recordAccess(this);
                return oldValue;
            }
        }

        modCount++;
ã€€ã€€ã€€ã€€ã€€//æ–°å¢ä¸€ä¸ªkey
        addEntry(hash, key, value, i);
        return null;
    }
</code></pre>
<p><code>put</code>æ–¹æ³•ä¸­ä¸»è¦åšäº†ä»¥ä¸‹å‡ ä»¶äº‹ï¼š</p>
<ol>
<li>åˆ¤æ–­<code>table</code>æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºè¿›è¡Œåˆå§‹åŒ–<code>table</code>æ•°ç»„ã€‚</li>
<li>åˆ¤æ–­keyå€¼æ˜¯å¦ä¸º<code>null</code>ï¼Œå°†nullæ˜¯ä½œä¸º<code>key</code>å­˜è¿›å»ã€‚</li>
<li>è‹¥<code>key</code>ä¸ä¸ºç©ºï¼Œé€šè¿‡<code>key</code>è®¡ç®—å‡ºæ•°ç»„ä¸‹æ ‡ï¼Œåˆ¤æ–­<code>table[i]</code>æ˜¯å¦ä¸ºç©ºã€‚</li>
<li>è‹¥æ˜¯ä¸ä¸ºç©ºé€šè¿‡é“¾è¡¨å¾ªç¯ï¼Œåˆ¤æ–­åœ¨é“¾è¡¨ä¸­æ˜¯å¦å­˜åœ¨ä¸è¯¥<code>key</code>ç›¸ç­‰ï¼Œè‹¥æ˜¯å­˜åœ¨ï¼Œç›´æ¥å°†<code>value</code>æ›¿æ¢æˆæ–°çš„<code>value</code>ã€‚è‹¥æ˜¯<code>table[i]</code>ä¸ºç©ºæˆ–è€…é“¾è¡¨ä¸­ä¸å­˜åœ¨ä¸ä¹‹ç›¸åŒçš„<code>key</code>ï¼Œå°±<code>addEntry(hash, key, value, i)</code>æ–°å¢ä¸€ä¸ªèŠ‚ç‚¹ã€‚</li>
</ol>
<p>æ¥ä¸‹æ¥çœ‹çœ‹<code>addEntry(hash, key, value, i)</code>æ–°å¢èŠ‚ç‚¹çš„æºç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">void addEntry(int hash, K key, V value, int bucketIndex) {
//æ•°ç»„é•¿åº¦å¤§äºé˜ˆå€¼ä¸”å­˜åœ¨å“ˆå¸Œå†²çªï¼ˆå³å½“å‰æ•°ç»„ä¸‹æ ‡æœ‰å…ƒç´ ï¼‰ï¼Œå°±å°†æ•°ç»„æ‰©å®¹è‡³2å€
        if ((size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])) {
            resize(2 * table.length);
            hash = (null != key) ? hash(key) : 0;
            bucketIndex = indexFor(hash, table.length);
        }
        createEntry(hash, key, value, bucketIndex);
    }
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•å¾ˆç®€å•ï¼Œç›´æ¥å°±æ˜¯åˆ¤æ–­å½“å‰æ•°ç»„çš„å¤§å°æ˜¯å¦&gt;=<code>threshold</code>å¹¶ä¸”<code>table[bucketIndex]</code>æ˜¯å¦ä¸º<code>null</code>ã€‚è‹¥æˆç«‹æ‰©å®¹ï¼Œç„¶årehashï¼Œé‡æ–°å¾—åˆ°æ–°æ•°ç»„çš„ä¸‹æ ‡å€¼ï¼Œæœ€å <code>createEntry(hash, key, value, bucketIndex)</code>åˆ›å»ºæ–°èŠ‚ç‚¹ã€‚</p>
<p>æœ€åæ¥çœ‹ä¸€ä¸‹<code>createEntry(hash, key, value, bucketIndex)</code>åˆ›å»ºæ–°èŠ‚ç‚¹çš„æºç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">void createEntry(int hash, K key, V value, int bucketIndex) {
ã€€ã€€//æ­¤ä½ç½®æœ‰å…ƒç´ ï¼Œå°±åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥æ–°å…ƒç´ ï¼ˆå¤´æ’æ³•ï¼‰
        Entry&lt;K,V&gt; e = table[bucketIndex];
        table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e);
        size++;
    }
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWctMTMwMjQ3NDEwMy5jb3MuYXAtbmFuamluZy5teXFjbG91ZC5jb20vaW1nLzgwYmEzZTNmLTY3ODgtNDA5OC04NTlkLTQ2NThmNDExMTZjYi53ZWJw?x-oss-process=image/format,png" alt="" loading="lazy"></figure>
<p>åœ¨<code>JDK 7</code>ä¸­ï¼Œé“¾è¡¨å­˜å‚¨æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯å½“æ•°æ®å¾ˆå¤šçš„æ—¶å€™ï¼Œé“¾è¡¨å°±ä¼šå¾ˆé•¿ï¼Œæ¯æ¬¡æŸ¥è¯¢éƒ½ä¼šéå†å¾ˆé•¿çš„é“¾è¡¨ã€‚</p>
<p>å› æ­¤åœ¨<code>JDK 8</code>ä¸­ä¸ºäº†ä¼˜åŒ–<code>HashMap</code>çš„æŸ¥è¯¢æ•ˆç‡ï¼Œå°†å†…éƒ¨çš„ç»“æ„æ”¹ä¸º<strong>æ•°ç»„+é“¾è¡¨+å’Œçº¢é»‘æ ‘</strong>ï¼Œå½“ä¸€ä¸ªå“ˆå¸Œæ¡¶åé¢çš„é“¾è¡¨é•¿åº¦<code>&gt;8</code>çš„æ—¶å€™ï¼Œå°±ä¼šå°†é“¾è¡¨è½¬åŒ–ä¸º<strong>çº¢é»‘æ ‘</strong>ï¼Œçº¢é»‘æ ‘æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼Œæé«˜äº†æŸ¥è¯¢çš„æ•ˆç‡ã€‚æ¥ä¸‹æ¥é€šè¿‡<code>JDK 8</code>çš„<code>put</code>æºç åˆ†æå¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">public V put(K key, V value) {
        return putVal(hash(key), key, value, false, true);
}


final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) {
        Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i;
ã€€ã€€ã€€ã€€ã€€//æ•°ç»„ä¸ºç©ºå°±åˆå§‹åŒ–
        if ((tab = table) == null || (n = tab.length) == 0)
            n = (tab = resize()).length;
ã€€ã€€ã€€ã€€ã€€//å½“å‰ä¸‹æ ‡ä¸ºç©ºï¼Œå°±ç›´æ¥æ’å…¥
        if ((p = tab[i = (n - 1) &amp; hash]) == null)
            tab[i] = newNode(hash, key, value, null);
        else {
            Node&lt;K,V&gt; e; K k;
ã€€ã€€ã€€ã€€ã€€ã€€ã€€//key ç›¸åŒå°±è¦†ç›–åŸæ¥çš„å€¼
            if (p.hash == hash &amp;&amp;((k = p.key) == key || (key != null &amp;&amp; key.equals(k))))
                e = p;
ã€€ã€€ã€€ã€€ã€€ã€€ã€€//æ ‘èŠ‚ç‚¹æ’å…¥æ•°æ®
            else if (p instanceof TreeNode)
                e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);
            else {
                for (int binCount = 0; ; ++binCount) {
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//é“¾è¡¨ï¼Œå°¾æ’æ³•æ’å…¥æ•°æ®
                    if ((e = p.next) == null) {
                        p.next = newNode(hash, key, value, null);
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//é“¾è¡¨é•¿åº¦è¶…è¿‡8ï¼Œå°±æŠŠé“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘
                        if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st
                            treeifyBin(tab, hash);
                        break;
                    }
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//keyç›¸åŒå°±è¦†ç›–åŸæ¥çš„å€¼
                    if (e.hash == hash &amp;&amp;((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))
                        break;
                    p = e;
                }
            }
            if (e != null) { // existing mapping for key
                V oldValue = e.value;
                if (!onlyIfAbsent || oldValue == null)
                    e.value = value;
                afterNodeAccess(e);
                return oldValue;
            }
        }
        ++modCount;
ã€€ã€€ã€€ã€€ã€€//æ•°ç»„é•¿åº¦å¤§äºé˜ˆå€¼ï¼Œå°±æ‰©å®¹
        if (++size &gt; threshold)
            resize();
        afterNodeInsertion(evict);
        return null;
    }
</code></pre>
<p><strong>é€šè¿‡åˆ†ææºç ï¼Œä¸Šé¢çš„æ–¹æ³•ä¸»è¦åšäº†ä»¥ä¸‹å‡ ä»¶äº‹</strong>ï¼š</p>
<ol>
<li>åˆ¤æ–­å½“å‰æ¡¶æ˜¯å¦ä¸ºç©ºï¼Œç©ºçš„å°±éœ€è¦åˆå§‹åŒ–ï¼ˆ<code>resize</code> ä¸­ä¼šåˆ¤æ–­æ˜¯å¦è¿›è¡Œåˆå§‹åŒ–ï¼‰ã€‚</li>
<li>æ ¹æ®å½“å‰ <code>key</code> çš„ <code>hashcode</code> å®šä½åˆ°å…·ä½“çš„æ¡¶ä¸­å¹¶åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¡¨æ˜æ²¡æœ‰ <code>Hash</code> å†²çªå°±ç›´æ¥åœ¨å½“å‰ä½ç½®åˆ›å»ºä¸€ä¸ªæ–°æ¡¶å³å¯ã€‚</li>
<li>å¦‚æœå½“å‰æ¡¶æœ‰å€¼ï¼ˆ <strong>Hash å†²çª</strong>ï¼‰ï¼Œé‚£ä¹ˆå°±è¦æ¯”è¾ƒå½“å‰æ¡¶ä¸­çš„ <code>key</code>ã€<code>key</code> çš„ <code>hashcode</code> ä¸å†™å…¥çš„ <code>key</code>æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰å°±èµ‹å€¼ç»™ eã€‚</li>
<li>å¦‚æœå½“å‰æ¡¶ä¸ºçº¢é»‘æ ‘ï¼Œé‚£å°±è¦æŒ‰ç…§çº¢é»‘æ ‘çš„æ–¹å¼å†™å…¥æ•°æ®ã€‚</li>
<li>å¦‚æœæ˜¯ä¸ªé“¾è¡¨ï¼Œå°±éœ€è¦å°†å½“å‰çš„ <code>keyã€value</code> å°è£…æˆä¸€ä¸ªæ–°èŠ‚ç‚¹å†™å…¥åˆ°å½“å‰æ¡¶çš„åé¢ï¼ˆå½¢æˆé“¾è¡¨ï¼‰ã€‚</li>
<li>æ¥ç€åˆ¤æ–­å½“å‰é“¾è¡¨çš„å¤§å°æ˜¯å¦å¤§äºé¢„è®¾çš„é˜ˆå€¼ï¼Œå¤§äºæ—¶å°±è¦è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚</li>
<li>å¦‚æœåœ¨éå†è¿‡ç¨‹ä¸­æ‰¾åˆ° <code>key</code> ç›¸åŒæ—¶ç›´æ¥é€€å‡ºéå†ã€‚</li>
<li>å¦‚æœ <code>e != null</code> å°±ç›¸å½“äºå­˜åœ¨ç›¸åŒçš„ <code>key</code>,é‚£å°±éœ€è¦å°†å€¼è¦†ç›–ã€‚</li>
<li>æœ€ååˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚</li>
</ol>
<p>ç»§ç»­çœ‹ä¸‹ treeifyBin çš„æºç ï¼š</p>
<pre><code class="language-java">final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) {
        int n, index; Node&lt;K,V&gt; e;
ã€€ã€€ã€€ã€€ã€€//é“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘æ—¶ï¼Œè‹¥æ­¤æ—¶æ•°ç»„é•¿åº¦å°äº64ï¼Œæ‰©å®¹æ•°ç»„
        if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)
            resize();
        else if ((e = tab[index = (n - 1) &amp; hash]) != null) {
            TreeNode&lt;K,V&gt; hd = null, tl = null;
ã€€ã€€ã€€ã€€ã€€ã€€ã€€//é“¾è¡¨è½¬ä¸ºæ ‘ç»“æ„
            do {
                TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null);
                if (tl == null)
                    hd = p;
                else {
                    p.prev = tl;
                    tl.next = p;
                }
                tl = p;
            } while ((e = e.next) != null);
            if ((tab[index] = hd) != null)
                hd.treeify(tab);
        }
    }
</code></pre>
<p>ç”±æ­¤å¯ä»¥çœ‹åˆ°1.8ä¸­ï¼Œæ•°ç»„æœ‰ä¸¤ç§æƒ…å†µä¼šå‘ç”Ÿæ‰©å®¹ï¼š</p>
<ol>
<li>ä¸€æ˜¯è¶…è¿‡é˜ˆå€¼</li>
<li>äºŒæ˜¯é“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘ä¸”æ•°ç»„å…ƒç´ å°äº64æ—¶</li>
</ol>
<p>ç”±æ­¤åœ¨<code>jdk1.8</code>ä¸­ï¼Œé»˜è®¤é•¿åº¦ä¸º<code>16</code>æƒ…å†µä¸‹ï¼Œè¦ä¹ˆå…ƒç´ ä¸€ç›´æ”¾åœ¨åŒä¸€ä¸‹æ ‡ï¼Œé“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘ä¸”æ•°ç»„å…ƒç´ å°äº64æ—¶å°±ä¼šæ‰©å®¹ï¼Œè¦ä¹ˆè¶…è¿‡é˜ˆå€¼<code>12</code>æ—¶æ‰ä¼šæ‰©å®¹ã€‚</p>
<p>ä¾æ®ä¸Šé¢çš„æºç åˆ†æï¼Œåœ¨<code>JDK 1.8</code>ä¸­<code>put</code>æ–¹æ³•çš„æ‰§è¡Œçš„åŸç†å›¾å¦‚ä¸‹</p>
<figure data-type="image" tabindex="2"><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWctMTMwMjQ3NDEwMy5jb3MuYXAtbmFuamluZy5teXFjbG91ZC5jb20vaW1nL2ltYWdlLTIwMjAwNzAyMDk0NDQxNDU4LnBuZw?x-oss-process=image/format,png" alt="image-20200702094441458" loading="lazy"></figure>
<h3 id="é—®ç‚¹ä¸‰hashmapçš„æ‰©å®¹æœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„jdk7ä¸jdk8æœ‰ä»€ä¹ˆä¸åŒå—">é—®ç‚¹ä¸‰ï¼šHashMapçš„æ‰©å®¹æœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„ï¼ŸJDK7ä¸JDK8æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿ</h3>
<blockquote>
<p><code>JDK 1.7</code>çš„æ‰©å®¹æ¡ä»¶æ˜¯<strong>æ•°ç»„é•¿åº¦å¤§äºé˜ˆå€¼ä¸”å­˜åœ¨å“ˆå¸Œå†²çª</strong>ï¼Œè€Œ<code>JDK 1.8</code>æ‰©å®¹æ¡ä»¶æ˜¯<strong>æ•°ç»„é•¿åº¦å¤§äºé˜ˆå€¼</strong>æˆ–<strong>é“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘ä¸”æ•°ç»„å…ƒç´ å°äº64</strong>æ—¶ï¼Œæºç ä¸­çš„ä½“ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
</blockquote>
<p><strong>JDK1.7æ‰©å®¹æºç </strong>ï¼š</p>
<pre><code class="language-java">void addEntry(int hash, K key, V value, int bucketIndex) {
ã€€ã€€ã€€ã€€ã€€//æ•°ç»„é•¿åº¦å¤§äºé˜ˆå€¼ä¸”å­˜åœ¨å“ˆå¸Œå†²çªï¼ˆå³å½“å‰æ•°ç»„ä¸‹æ ‡æœ‰å…ƒç´ ï¼‰ï¼Œå°±å°†æ•°ç»„æ‰©å®¹è‡³2å€
        if ((size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])) {
            resize(2 * table.length);
            hash = (null != key) ? hash(key) : 0;
            bucketIndex = indexFor(hash, table.length);
        }
        createEntry(hash, key, value, bucketIndex);
    }
</code></pre>
<p><strong>JDK1.8æ‰©å®¹æºç </strong>ï¼š</p>
<pre><code class="language-java">//æ•°ç»„é•¿åº¦å¤§äºé˜ˆå€¼ï¼Œå°±æ‰©å®¹
if (++size &gt; threshold)
      resize();

//é“¾è¡¨è½¬ä¸ºçº¢é»‘æ ‘æ—¶ï¼Œè‹¥æ­¤æ—¶æ•°ç»„é•¿åº¦å°äº64ï¼Œæ‰©å®¹æ•°ç»„
if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)
      resize();
</code></pre>
<h3 id="é—®ç‚¹å››hashmapä¸­çš„é”®å€¼å¯ä»¥ä¸ºnullå—èƒ½ç®€å•è¯´ä¸€ä¸‹åŸç†å—">é—®ç‚¹å››ï¼šHashMapä¸­çš„é”®å€¼å¯ä»¥ä¸ºNullå—ï¼Ÿèƒ½ç®€å•è¯´ä¸€ä¸‹åŸç†å—ï¼Ÿ</h3>
<blockquote>
<p>JDKä¸¤ä¸ªç‰ˆæœ¬éƒ½å¯ä»¥ã€‚JDK1.7å’Œ1.8æœ¬è´¨éƒ½æ˜¯å»å¯»æ‰¾Hashå€¼ä¸º0çš„é‚£ä¸ªæ¡¶ï¼Œç„¶åå¦‚æœkeyä¸ºnullï¼Œåˆ™ç›´æ¥æ›¿æ¢å€¼</p>
</blockquote>
<h3 id="é—®ç‚¹äº”hashmapä¸­èƒ½putä¸¤ä¸ªç›¸åŒçš„keyå—ä¸ºä»€ä¹ˆèƒ½æˆ–ä¸ºä»€ä¹ˆä¸èƒ½">é—®ç‚¹äº”ï¼šHashMapä¸­èƒ½putä¸¤ä¸ªç›¸åŒçš„Keyå—ï¼Ÿä¸ºä»€ä¹ˆèƒ½æˆ–ä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿ</h3>
<blockquote>
<p>åœ¨<code>JDK7</code>å’Œ<code>JDK8</code>ä¸­çš„åšæ³•æ˜¯ä¸€æ ·çš„ï¼Œè‹¥æ˜¯å­˜å…¥çš„<code>key</code>å€¼ä¸€æ ·ï¼Œå°±ä¼šå°†åŸæ¥çš„keyæ‰€å¯¹åº”çš„valueå€¼ç›´æ¥æ›¿æ¢æ‰</p>
</blockquote>
<h3 id="é—®ç‚¹å…­èŠä¸€èŠjdk-7çš„hashmapä¸­çš„æ­»é”æ˜¯æ€ä¹ˆå›äº‹">é—®ç‚¹å…­ï¼šèŠä¸€èŠJDK 7çš„HashMapä¸­çš„â€œæ­»é”â€æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</h3>
<blockquote>
<p>é¦–å…ˆJDK7é‡‡ç”¨çš„å¤´æ’æ³•ï¼Œä¼šæœ‰é“¾è¡¨æˆç¯çš„é—®é¢˜ï¼ŒJDKé‡‡ç”¨çš„å°¾æ’æ³•ï¼Œä¸ä¼šæœ‰å¾ªç¯é“¾è¡¨çš„é—®é¢˜ã€‚</p>
<p><code>HashMap</code>æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œåœ¨<code>HashMap</code>çš„æºç ä¸­å¹¶æœªå¯¹å…¶æ“ä½œè¿›è¡ŒåŒæ­¥æ‰§è¡Œï¼Œæ‰€ä»¥åœ¨å¹¶å‘è®¿é—®çš„æ—¶å€™å°±ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚</p>
<p>JDK 7æ­»é”å‡ºç°åœ¨é«˜å¹¶å‘çš„æ—¶å€™ï¼Œæ­¤æ—¶ä¸¤ä¸ªçº¿ç¨‹éƒ½å°†å¯¹æ•°æ®è¿›è¡Œæ‰©å®¹ï¼Œæ¯æ¬¡æ‰©å®¹çš„æ—¶å€™ï¼Œä¼šè®©é“¾è¡¨ç¿»è½¬ã€‚</p>
</blockquote>
<p><code>transfer</code>å‡½æ•°æºç ï¼ˆ<code>transfer</code>å‡½æ•°æ˜¯resizeæ‰©å®¹æ–¹æ³•ä¸­è°ƒç”¨çš„å¦ä¸€ä¸ªæ–¹æ³•ï¼‰ï¼š</p>
<pre><code class="language-java">void transfer(Entry[] newTable, boolean rehash) {
    int newCapacity = newTable.length;
    for (Entry&lt;K,V&gt; e : table) {
    while(null != e) {
        Entry&lt;K,V&gt; next = e.next; ---------------------(1)
        if (rehash) {
            e.hash = null == e.key ? 0 : hash(e.key);
        }
        int i = indexFor(e.hash, newCapacity);
        e.next = newTable[i];
        newTable[i] = e;
        e = next;
    } // while
    }
}
</code></pre>
<p><strong>å‡è®¾ä¸€ä¸ªé“¾è¡¨ï¼ŒA.next = B  , B.next = null</strong>ï¼š</p>
<ul>
<li>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ–°æ‰©å®¹çš„æ•°ç»„åº”è¯¥æ˜¯ä½nullï¼Œç„¶åA.next = newTable[i]ï¼Œåˆ™<code>A.next = null</code>ï¼ŒnewTable[i] = A ï¼ŒB.next = newTable[i]ï¼Œåˆ™<code>B.next = A</code>ï¼ŒnewTable[i] = B</li>
<li>å¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è½¬æ¢ï¼Œæ­¤æ—¶å·²ç„¶ä¼šæ‰§è¡Œ A.next = newTable[i] , åˆ™å°†<code>A.next = nullå˜æˆA.next = B</code>ï¼Œå‰©ä¸‹è¿‡ç¨‹ä¸€è‡´ï¼Œ<code>å‡ºç°å¾ªç¯é“¾è¡¨</code></li>
</ul>
<h3 id="é—®ç‚¹ä¸ƒhashmapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ä¸ºä»€ä¹ˆå®‰å…¨æˆ–è€…ä¸å®‰å…¨">é—®ç‚¹ä¸ƒï¼šHashMapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿä¸ºä»€ä¹ˆå®‰å…¨æˆ–è€…ä¸å®‰å…¨ï¼Ÿ</h3>
<blockquote>
<p>ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ¯”å¦‚ä¼šåœ¨æ‰©å®¹çš„æ—¶å€™äº§ç”Ÿå¾ªç¯é“¾è¡¨ï¼›åœ¨putçš„æ—¶å€™ä¼šè¦†ç›–åˆ«çš„çº¿ç¨‹çš„å€¼</p>
</blockquote>
<h3 id="é—®ç‚¹å…«ä»€ä¹ˆ-hashmap-çš„åŠ è½½å› å­æ˜¯075ä¸ºä»€ä¹ˆæ˜¯è¶…è¿‡8æ‰ç”¨çº¢é»‘æ ‘">é—®ç‚¹å…«ï¼šä»€ä¹ˆ HashMap çš„åŠ è½½å› å­æ˜¯0.75ï¼Ÿä¸ºä»€ä¹ˆæ˜¯è¶…è¿‡â€œ8â€æ‰ç”¨çº¢é»‘æ ‘ï¼Ÿ</h3>
<blockquote>
<p>å› ä¸ºHashMapåº•å±‚çš„æ•°æ®ç»“æ„æ˜¯å“ˆå¸Œè¡¨ï¼Œåœ¨æ’å…¥æ•°æ®çš„æ—¶å€™ä¼šå‡ºç°hashå†²çªï¼Œè€ŒHashMapçš„è§£å†³æ–¹å¼æ˜¯ä½¿ç”¨æ‹‰é“¾æ³•ï¼Œå³é‡‡ç”¨é¢å¤–çš„ç©ºé—´æ¥è§£å†³å†²çªã€‚</p>
<p>è€Œé€‰æ‹©åŠ è½½å› å­æ˜¯0.75ä¸»è¦è·Ÿæ•°å­¦ä¸Šæ³Šæ¾åˆ†å¸ƒæœ‰å…³ç³»ï¼Œé€‰æ‹©çš„å‚æ•°å¹³å‡ä¸º0.5çš„æ³Šæ¾åˆ†å¸ƒï¼Œè®¡ç®—å‡ºæ¥å½“å‰åŠ è½½å› å­æ˜¯0.75ï¼Œè¿™æ›´æ˜¯ç©ºé—´ä¸æ—¶é—´çš„ä¸€ç§é€‰æ‹©æŠ˜ä¸­ã€‚</p>
<p>è€Œè¶…è¿‡8æ‰ä½¿ç”¨çº¢é»‘æ ‘ï¼Œæºäºè¯¥æ³Šæ¾åˆ†å¸ƒè®¡ç®—å‡ºæ¥çš„ï¼Œä¸€ä¸ªèŠ‚ç‚¹å“ˆå¸Œå†²çª8æ¬¡çš„æ¦‚ç‡æä¸ºçš„å°ï¼Œå‡ ä¹ä¸ºä¸å¯èƒ½æ—¶é—´ï¼Œè¿™ä¹Ÿæ˜¯ä¸€æ¬¡ç©ºé—´ä¸æ—¶é—´çš„æŠ˜ä¸­ã€‚</p>
</blockquote>
<p>â€‹</p>
<pre><code class="language-java">//1ä¸ªèŠ‚ç‚¹å“ˆå¸Œå†²çªnæ¬¡çš„æ¦‚ç‡
0:    0.60653066
1:    0.30326533
2:    0.07581633
3:    0.01263606
4:    0.00157952
5:    0.00015795
6:    0.00001316
7:    0.00000094
8:    0.00000006
</code></pre>
<h3 id="é—®ç‚¹ä¹hashmap-hashtable-concurrenthashmapçš„åŒºåˆ«">é—®ç‚¹ä¹ï¼šHashMapã€HashTableã€ConcurrentHashMapçš„åŒºåˆ«</h3>
<blockquote>
<p>HashMapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œåœ¨jdk1.7é«˜å¹¶å‘çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šåœ¨æ‰©å®¹çš„æ—¶å€™ï¼Œäº§ç”Ÿå¾ªç¯é“¾è¡¨ï¼Œæ‰€ä»¥åœ¨é«˜å¹¶å‘çš„æ—¶å€™ï¼Œä¸å»ä½¿ç”¨ã€‚</p>
<p>HashTableæ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ï¼Œé‡‡ç”¨çš„æ˜¯synchronizeçš„æ–¹å¼ï¼Œå…³é”®å­—åŠ åœ¨æ–¹æ³•ä¸Šï¼Œå³å¯¹å½“å‰HashTableå¯¹è±¡åŠ é”ï¼Œä¼šå¯¼è‡´æ‰€æœ‰çš„æ•°æ®åŠ ä¸Šé”ã€‚</p>
<p>ConcurrentHashMapåœ¨JDK1.7çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯Segmentåˆ†æ®µé”çš„æ€æƒ³ï¼Œå°†æ•°æ®åˆ†æˆæ®µï¼Œæ¯ä¸ªæ®µéƒ½æœ‰ä¸ªå¯é‡å…¥é”ï¼Œåˆ™å¤šçº¿ç¨‹çš„æ—¶å€™ä¸ä¼šå½±å“åˆ°å…¶ä»–çº¿ç¨‹è®¿é—®å…¶ä»–æ®µçš„æ•°æ®ã€‚</p>
<p>ConcurrentHashMapåœ¨JDK1.8çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯CAS+synchronizedæ–¹å¼ï¼ŒæŠ›å¼ƒäº†Segmentåˆ†æ®µé”çš„æ€æƒ³ï¼ŒCASæ˜¯ä¸€ä¸ªä¹è§‚é”ï¼Œåˆ™åœ¨ä¸åŠ é”æƒ…å†µä¸‹å®ç°èµ‹å€¼ï¼Œåœ¨å½“å‰èŠ‚ç‚¹ä¸ºç©ºçš„æ—¶å€™ï¼Œä¼šé‡‡ç”¨CASçš„æ–¹å¼æ·»åŠ èŠ‚ç‚¹ï¼›è€Œç”¨synchronizedè€Œä¸ç”¨æ˜¯å¯é‡å…¥é”çš„åŸå› æ˜¯å› ä¸ºå®˜æ–¹å¯¹synchronizedåšäº†å¾ˆå¤šä¼˜åŒ–ã€‚</p>
</blockquote>
<p><code>HashTable</code>å…¶ä¸­ä½¿ç”¨synchronizeæ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå³å½“æœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰é”çš„æ—¶å€™ï¼Œå…¶ä»–çš„çº¿ç¨‹éƒ½ä¼šè¿›å…¥é˜»å¡æˆ–è€…è½®è¯¢çŠ¶æ€,è¿™æ ·ä¼šä½¿å¾—æ•ˆç‡è¶Šæ¥è¶Šä½ã€‚</p>
<p>è€Œ<code>ConcurrentHashMapMap</code>çš„é”åˆ†æ®µæŠ€æœ¯å¯ä»¥æœ‰æ•ˆçš„æé«˜å¹¶å‘è®¿é—®ç‡ï¼Œ<code>HashTable</code>è®¿é—®æ•ˆç‡ä½ä¸‹çš„åŸå› ï¼Œå°±æ˜¯å› ä¸ºæ‰€æœ‰çš„çº¿ç¨‹åœ¨ç«äº‰åŒä¸€æŠŠé”ã€‚</p>
<p>å¦‚æœå®¹å™¨ä¸­æœ‰å¤šæŠŠé”ï¼Œä¸åŒçš„é”é”å®šä¸åŒçš„ä½ç½®ï¼Œè¿™æ ·çº¿ç¨‹é—´å°±ä¸ä¼šå­˜åœ¨é”çš„ç«äº‰ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆçš„æé«˜å¹¶å‘è®¿é—®æ•ˆç‡,è¿™å°±æ˜¯<code>ConcurrentHashMap</code>æ‰€ä½¿ç”¨çš„é”åˆ†æ®µæŠ€æœ¯å°†æ•°æ®ä¸€æ®µä¸€æ®µçš„å­˜å‚¨ï¼Œä¸ºæ¯ä¸€æ®µéƒ½é…ä¸€æŠŠé”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹åªæ˜¯å ç”¨å…¶ä¸­çš„ä¸€ä¸ªæ•°æ®æ®µæ—¶,å…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ã€‚</p>
<p>åœ¨JDK1.7ä¸­currentHashMapé‡‡ç”¨çš„æ˜¯<strong>Segmentåˆ†æ®µé”çš„æ€æƒ³</strong>æ–¹å¼å®ç°ï¼š</p>
<ul>
<li>Segmentæ˜¯å°†æ•°æ®åˆ†æˆæ®µï¼Œé»˜è®¤æ˜¯16ï¼Œæ¯ä¸ªæ®µéƒ½æœ‰ä¸€æŠŠé”ï¼Œåˆ™ç†è®ºæœ€é«˜æ”¯æŒ16ä¸ªçº¿ç¨‹å¹¶å‘</li>
</ul>
<figure data-type="image" tabindex="3"><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWctMTMwMjQ3NDEwMy5jb3MuYXAtbmFuamluZy5teXFjbG91ZC5jb20vaW1nL2ltYWdlLTIwMjAwNzAzMDkzMjI2ODMxLnBuZw?x-oss-process=image/format,png" alt="image-20200703093226831" loading="lazy"></figure>
<p>JDK1.8çš„currentHashMapé‡‡ç”¨çš„æ˜¯**æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼ŒæŠ›å¼ƒäº†åŸæœ‰çš„ Segment åˆ†æ®µé”ï¼Œè€Œé‡‡ç”¨äº† CAS + synchronized **æ–¹å¼å®ç°ï¼š</p>
<ul>
<li>
<p>CASï¼Œæ˜¯ä¸€ä¸ªä¹è§‚é”ï¼Œä»–ä¸»è¦æ€æƒ³æ˜¯<strong>æ¯”è¾ƒç„¶åå†æ‰§è¡Œæ“ä½œ</strong>ï¼Œæ¯”è¾ƒçš„æ˜¯å†…å­˜çš„å€¼å’Œé¢„æœŸçš„åŸå€¼æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œåˆ™éœ€è¦è‡ªæ—‹è·å–æ–°å€¼ï¼Œä½†æ˜¯CASçš„æœ€å¤§é—®é¢˜å°±æ˜¯å¯èƒ½å‡ºç°ABAçš„é—®é¢˜ã€‚</p>
</li>
<li>
<p>åœ¨<code>no lock when adding to empty bin</code> ï¼Œä¹Ÿå°±æ˜¯æ¡¶ä¸ºç©ºçš„æ—¶å€™é‡‡ç”¨CASæ–¹å¼æ·»åŠ æ•°æ®ï¼Œè€Œä¸ä¸ºç©ºçš„æ—¶å€™é‡‡ç”¨synchronized çš„æ–¹å¼</p>
<figure data-type="image" tabindex="4"><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWctMTMwMjQ3NDEwMy5jb3MuYXAtbmFuamluZy5teXFjbG91ZC5jb20vaW1nL2ltYWdlLTIwMjAwNzAzMDkzODAzNDMwLnBuZw?x-oss-process=image/format,png" alt="image-20200703093803430" loading="lazy"></figure>
</li>
</ul>
<h3 id="é—®ç‚¹åè°ˆè°ˆä½ ç†è§£çš„-hashmapè®²è®²å…¶ä¸­çš„-getå’Œput-è¿‡ç¨‹">é—®ç‚¹åï¼šè°ˆè°ˆä½ ç†è§£çš„ HashMapï¼Œè®²è®²å…¶ä¸­çš„ getå’Œput è¿‡ç¨‹</h3>
<p><strong>putæ–¹æ³•</strong>ï¼š</p>
<ul>
<li>è€ƒè™‘æ˜¯å¦è¦åˆå§‹åŒ–</li>
<li>æ ¹æ®keyè®¡ç®—å“ˆå¸Œå€¼ï¼Œæ‰¾åˆ°hashè¡¨å¯¹åº”çš„ç´¢å¼•</li>
<li>ç„¶ååˆ¤æ–­æ˜¯å¦å‡ºç°çš„hashå†²çªï¼Œå¦‚æœæ²¡æœ‰åˆ™ç›´æ¥æ’å…¥ï¼ŒæŸ¥çœ‹æ˜¯å¦éœ€è¦æ‰©å®¹</li>
<li>JDK1.7å‡ºç°hashå†²çªç›´æ¥æ’å…¥é“¾è¡¨ä¸­å³å¯</li>
<li>JDK1.8å‡ºç°hashå†²çªï¼Œéœ€è¦å…ˆåˆ¤æ–­å½“å‰æ˜¯çº¢é»‘æ ‘è¿˜æ˜¯é“¾è¡¨ï¼Œå¯¹äºé“¾è¡¨å¯èƒ½ä¼šæœ‰ä¸€ä¸ªæ ‘åŒ–çš„è¿‡ç¨‹</li>
</ul>
<p><strong>getæ–¹æ³•</strong>ï¼š</p>
<ul>
<li>æ€è·¯ä¸ä¸Šé¢ä¸€è‡´ï¼Œåªæ˜¯å°‘äº†ä¸€ä¸ªæ‰©å®¹å’Œæ ‘åŒ–çš„è¿‡ç¨‹</li>
</ul>
<figure data-type="image" tabindex="5"><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWctMTMwMjQ3NDEwMy5jb3MuYXAtbmFuamluZy5teXFjbG91ZC5jb20vaW1nL2ltYWdlLTIwMjAwNzAyMDk0NDQxNDU4LnBuZw?x-oss-process=image/format,png" alt="image-20200702094441458" loading="lazy"></figure>

<span id="footnote"></span>
<div id = "warn"></div>
</div>
<div class="toc-container"><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#hashmap%E7%AE%80%E4%BB%8B">HashMapç®€ä»‹</a></li>
<li><a href="#%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88">é—®é¢˜é›†åˆ</a>
<ul>
<li><a href="#%E9%97%AE%E7%82%B9%E4%B8%80%E4%BD%A0%E4%BA%86%E8%A7%A3hashmap%E7%9A%84%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%90%97">é—®ç‚¹ä¸€ï¼šä½ äº†è§£HashMapçš„åº•å±‚æ•°æ®ç»“æ„å—ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%BA%8C%E4%B8%BA%E4%BB%80%E4%B9%88jdk-7%E4%BD%BF%E7%94%A8%E6%95%B0%E7%BB%84%E9%93%BE%E8%A1%A8jdk8%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91%E5%93%88%E5%B8%8C%E5%86%B2%E7%AA%81%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8Bhashmap%E5%8F%88%E6%98%AF%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E7%9A%84">é—®ç‚¹äºŒï¼šä¸ºä»€ä¹ˆJDK 7ä½¿ç”¨æ•°ç»„+é“¾è¡¨ï¼ŸJDK8ä¸­ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¢é»‘æ ‘ï¼Ÿå“ˆå¸Œå†²çªæ˜¯æ€ä¹ˆå›äº‹ï¼ŸHashMapåˆæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%B8%89hashmap%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%E6%98%AF%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84jdk7%E4%B8%8Ejdk8%E6%9C%89%E4%BB%80%E4%B9%88%E4%B8%8D%E5%90%8C%E5%90%97">é—®ç‚¹ä¸‰ï¼šHashMapçš„æ‰©å®¹æœºåˆ¶æ˜¯æ€ä¹ˆæ ·çš„ï¼ŸJDK7ä¸JDK8æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E5%9B%9Bhashmap%E4%B8%AD%E7%9A%84%E9%94%AE%E5%80%BC%E5%8F%AF%E4%BB%A5%E4%B8%BAnull%E5%90%97%E8%83%BD%E7%AE%80%E5%8D%95%E8%AF%B4%E4%B8%80%E4%B8%8B%E5%8E%9F%E7%90%86%E5%90%97">é—®ç‚¹å››ï¼šHashMapä¸­çš„é”®å€¼å¯ä»¥ä¸ºNullå—ï¼Ÿèƒ½ç®€å•è¯´ä¸€ä¸‹åŸç†å—ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%BA%94hashmap%E4%B8%AD%E8%83%BDput%E4%B8%A4%E4%B8%AA%E7%9B%B8%E5%90%8C%E7%9A%84key%E5%90%97%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E6%88%96%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD">é—®ç‚¹äº”ï¼šHashMapä¸­èƒ½putä¸¤ä¸ªç›¸åŒçš„Keyå—ï¼Ÿä¸ºä»€ä¹ˆèƒ½æˆ–ä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E5%85%AD%E8%81%8A%E4%B8%80%E8%81%8Ajdk-7%E7%9A%84hashmap%E4%B8%AD%E7%9A%84%E6%AD%BB%E9%94%81%E6%98%AF%E6%80%8E%E4%B9%88%E5%9B%9E%E4%BA%8B">é—®ç‚¹å…­ï¼šèŠä¸€èŠJDK 7çš„HashMapä¸­çš„â€œæ­»é”â€æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%B8%83hashmap%E6%98%AF%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%E5%90%97%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AE%89%E5%85%A8%E6%88%96%E8%80%85%E4%B8%8D%E5%AE%89%E5%85%A8">é—®ç‚¹ä¸ƒï¼šHashMapæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿä¸ºä»€ä¹ˆå®‰å…¨æˆ–è€…ä¸å®‰å…¨ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E5%85%AB%E4%BB%80%E4%B9%88-hashmap-%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%9B%A0%E5%AD%90%E6%98%AF075%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E8%B6%85%E8%BF%878%E6%89%8D%E7%94%A8%E7%BA%A2%E9%BB%91%E6%A0%91">é—®ç‚¹å…«ï¼šä»€ä¹ˆ HashMap çš„åŠ è½½å› å­æ˜¯0.75ï¼Ÿä¸ºä»€ä¹ˆæ˜¯è¶…è¿‡â€œ8â€æ‰ç”¨çº¢é»‘æ ‘ï¼Ÿ</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E4%B9%9Dhashmap-hashtable-concurrenthashmap%E7%9A%84%E5%8C%BA%E5%88%AB">é—®ç‚¹ä¹ï¼šHashMapã€HashTableã€ConcurrentHashMapçš„åŒºåˆ«</a></li>
<li><a href="#%E9%97%AE%E7%82%B9%E5%8D%81%E8%B0%88%E8%B0%88%E4%BD%A0%E7%90%86%E8%A7%A3%E7%9A%84-hashmap%E8%AE%B2%E8%AE%B2%E5%85%B6%E4%B8%AD%E7%9A%84-get%E5%92%8Cput-%E8%BF%87%E7%A8%8B">é—®ç‚¹åï¼šè°ˆè°ˆä½ ç†è§£çš„ HashMapï¼Œè®²è®²å…¶ä¸­çš„ getå’Œput è¿‡ç¨‹</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="fullPage"><canvas id="canvas"></canvas></div>
</article>
<div id="eof"><span>EOF</span></div><div class="round-shape-one"></div>
<section>
<div class="doc_comments">

	  
		<div id="gitalk-container"></div>
		<!--è¯„è®ºæ˜¾ç¤ºåŒºï¼Œè¯·æ’å…¥åˆé€‚çš„ä½ç½®-->
<div id="comment"></div>
<!--Leancloud æ“ä½œåº“:-->
<script src="//cdn1.lncld.net/static/js/3.6.1/av-min.js"></script>
<!--Valine çš„æ ¸å¿ƒä»£ç åº“-->
<script src="//cdn.jsdelivr.net/npm/valine@1.4.4/dist/Valine.min.js"></script>
<script>
    new Valine({
        el:'#comment',
        appId: 'DysN4QrSvmmE6SpDXopbCLD6-gzGzoHsz',
        appKey: 'mjK643yLFa4WWXtobofr24Ap',
        placeholder: 'ãƒ¾ï¾‰â‰§âˆ€â‰¦)oå¿«æ¥è¯„è®ºä¸€ä¸‹å§!',
        avatar:''
    });
</script>
	  
		  
	  

</div></section>
</div></div></div>

<script>
    "use strict";
    ! function () {
        for (var n = document.getElementsByTagName("pre"), e = n.length, s = 0; s < e; s++) {
            n[s].innerHTML = '<span class="line-number"></span>' + n[s].innerHTML + '<span class="cl"></span>';
            for (var a = n[s].innerHTML.split(/\n/).length, r = 0; r < a - 1; r++) {
                n[s].getElementsByTagName("span")[0].innerHTML += "<span>" + (r + 1) + "</span>"
            }
        }
    }();
    let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");
    window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;
        mainNavLinks.forEach((link, index) => {
            let section = document.getElementById(decodeURI(link.hash).substring(1));
            let nextSection = null
            if (mainNavLinks[index + 1]) {
                nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(
                    1));
            }
            if (section.offsetTop <= fromTop) {
                if (nextSection) {
                    if (nextSection.offsetTop > fromTop) {
                        link.classList.add("currentToc");
                    } else {
                        link.classList.remove("currentToc");
                    }
                } else {
                    link.classList.add("currentToc");
                }
            } else {
                link.classList.remove("currentToc");
            }
        });
    });
    var list = document.querySelectorAll(".katex");
    for (var i = 0; i < list.length; i++) {
        list[i].style.display = "unset"
    };
    var h = document.documentElement,
        b = document.body,
        st = "scrollTop",
        sh = "scrollHeight",
        progress = document.querySelector(".progress"),
        scroll;
    document.addEventListener("scroll", function () {
        scroll = (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
        progress.style.setProperty("--scroll", scroll + "%")
    });
    var wxScale = new WxScale({
        fullPage: document.querySelector("#fullPage"),
        canvas: document.querySelector("#canvas")
    });
    var imgBox = document.querySelectorAll("#md_block img");
    for (var i = 0; i < imgBox.length; i++) {
        imgBox[i].onclick = function (e) {
            wxScale.start(this)
        }
    };
    var content = "æœ¬æ–‡æœ€åæ›´æ–°äº2020-07-03";
    var date1 = "2020-07-03 11:17:21";
    date1 = date1.replace("-", "/");
    var date2 = new Date();
    var date3 = date2.getTime() - new Date(date1).getTime();
    var days = Math.floor(date3 / (24 * 3600 * 1000));
    if (days >= 365) {
        document.getElementById("warn").innerHTML = content
    };
</script>

<style>#magnifyImg{position:fixed;left:0;top:0;text-align:center;width:100%;display:none;z-index:9999}#magnifyImg img{object-fit:contain;background:#eaecef;padding:15px;border-radius:10px;height:auto;width:auto;vertical-align:middle}</style>
<a id="scrollUp" href="#top" style="position: fixed; z-index: 2147483647; display: block;"></a><div class="footer animated fadeInDown"><div class="site_footer"><div class="mysocials"><div class="my_socials"></div></div><div class="copyright"id="copyright">Copyright Â© 2018-2020 <a href="https://xzzz2020.github.io" style="margin:0;">xzzz2020</a>.</div>
<span style="display: inline;margin-right:15px;">ğŸ‘<strong><span id="busuanzi_value_site_pv"></span></strong></span><span id="busuanzi_container_page_pv" style="display: inline;"><span>ğŸ“š<strong>62</strong> posts</span></div></div>
<script>
console.log("\n %c \u26a1Theme: Bitcron-pro Author's Blog:https://blog.blinkstar.cn  Writen By Serence  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;", );
</script>
<script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module" defer></script>
<script type="text/javascript" async src="https://xzzz2020.github.io/media/js/prism.js"></script>
</body>
</html>